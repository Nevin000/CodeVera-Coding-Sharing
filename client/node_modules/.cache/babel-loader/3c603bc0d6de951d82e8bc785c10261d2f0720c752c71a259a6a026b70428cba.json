{"ast":null,"code":"import { CREATE_LEARNING_PLAN, GET_LEARNING_PLANS_REQUEST, GET_LEARNING_PLANS_SUCCESS, GET_LEARNING_PLANS_FAILURE, UPDATE_LEARNING_PLAN, DELETE_LEARNING_PLAN, ADD_TOPIC, UPDATE_TOPIC, DELETE_TOPIC, ADD_RESOURCE, UPDATE_RESOURCE, DELETE_RESOURCE } from \"./ActionType\";\nconst initialState = {\n  plans: [],\n  loading: false,\n  error: null\n};\nexport const learningPlanReducer = function () {\n  let store = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n  switch (type) {\n    case GET_LEARNING_PLANS_REQUEST:\n      return {\n        ...store,\n        loading: true,\n        error: null\n      };\n    case GET_LEARNING_PLANS_SUCCESS:\n      return {\n        ...store,\n        loading: false,\n        plans: payload || [],\n        error: null\n      };\n    case GET_LEARNING_PLANS_FAILURE:\n      return {\n        ...store,\n        loading: false,\n        error: payload\n      };\n    case CREATE_LEARNING_PLAN:\n      return {\n        ...store,\n        plans: [...store.plans, payload],\n        loading: false,\n        error: null\n      };\n    case UPDATE_LEARNING_PLAN:\n      return {\n        ...store,\n        plans: store.plans.map(plan => plan.id === payload.id ? {\n          ...payload,\n          topics: plan.topics\n        } : plan),\n        loading: false,\n        error: null\n      };\n    case DELETE_LEARNING_PLAN:\n      return {\n        ...store,\n        plans: store.plans.filter(plan => plan.id !== payload),\n        loading: false,\n        error: null\n      };\n    case ADD_TOPIC:\n      return {\n        ...store,\n        plans: store.plans.map(plan => plan.id === payload.planId ? {\n          ...plan,\n          topics: [...(plan.topics || []), payload.topic],\n          updatedAt: new Date().toISOString()\n        } : plan),\n        loading: false,\n        error: null\n      };\n    case UPDATE_TOPIC:\n      return {\n        ...store,\n        plans: store.plans.map(plan => ({\n          ...plan,\n          topics: (plan.topics || []).map(topic => topic.id === payload.id ? payload : topic),\n          updatedAt: new Date().toISOString()\n        })),\n        loading: false,\n        error: null\n      };\n    case DELETE_TOPIC:\n      return {\n        ...store,\n        plans: store.plans.map(plan => ({\n          ...plan,\n          topics: (plan.topics || []).filter(topic => topic.id !== payload),\n          updatedAt: new Date().toISOString()\n        })),\n        loading: false,\n        error: null\n      };\n    case ADD_RESOURCE:\n      return {\n        ...store,\n        plans: store.plans.map(plan => ({\n          ...plan,\n          topics: (plan.topics || []).map(topic => topic.id === payload.topicId ? {\n            ...topic,\n            resources: [...(topic.resources || []), payload.resource],\n            updatedAt: new Date().toISOString()\n          } : topic),\n          updatedAt: new Date().toISOString()\n        })),\n        loading: false,\n        error: null\n      };\n    case UPDATE_RESOURCE:\n      return {\n        ...store,\n        plans: store.plans.map(plan => ({\n          ...plan,\n          topics: (plan.topics || []).map(topic => ({\n            ...topic,\n            resources: (topic.resources || []).map(resource => resource.id === payload.id ? payload : resource),\n            updatedAt: new Date().toISOString()\n          })),\n          updatedAt: new Date().toISOString()\n        })),\n        loading: false,\n        error: null\n      };\n    case DELETE_RESOURCE:\n      return {\n        ...store,\n        plans: store.plans.map(plan => ({\n          ...plan,\n          topics: (plan.topics || []).map(topic => ({\n            ...topic,\n            resources: (topic.resources || []).filter(resource => resource.id !== payload),\n            updatedAt: new Date().toISOString()\n          })),\n          updatedAt: new Date().toISOString()\n        })),\n        loading: false,\n        error: null\n      };\n    default:\n      return store;\n  }\n};","map":{"version":3,"names":["CREATE_LEARNING_PLAN","GET_LEARNING_PLANS_REQUEST","GET_LEARNING_PLANS_SUCCESS","GET_LEARNING_PLANS_FAILURE","UPDATE_LEARNING_PLAN","DELETE_LEARNING_PLAN","ADD_TOPIC","UPDATE_TOPIC","DELETE_TOPIC","ADD_RESOURCE","UPDATE_RESOURCE","DELETE_RESOURCE","initialState","plans","loading","error","learningPlanReducer","store","arguments","length","undefined","type","payload","map","plan","id","topics","filter","planId","topic","updatedAt","Date","toISOString","topicId","resources","resource"],"sources":["E:/PAF/poject/client/src/Redux/LearningPlan/Reducer.js"],"sourcesContent":["import {\r\n  CREATE_LEARNING_PLAN,\r\n  GET_LEARNING_PLANS_REQUEST,\r\n  GET_LEARNING_PLANS_SUCCESS,\r\n  GET_LEARNING_PLANS_FAILURE,\r\n  UPDATE_LEARNING_PLAN,\r\n  DELETE_LEARNING_PLAN,\r\n  ADD_TOPIC,\r\n  UPDATE_TOPIC,\r\n  DELETE_TOPIC,\r\n  ADD_RESOURCE,\r\n  UPDATE_RESOURCE,\r\n  DELETE_RESOURCE\r\n} from \"./ActionType\";\r\n\r\nconst initialState = {\r\n  plans: [],\r\n  loading: false,\r\n  error: null,\r\n};\r\n\r\nexport const learningPlanReducer = (store = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case GET_LEARNING_PLANS_REQUEST:\r\n      return { ...store, loading: true, error: null };\r\n\r\n    case GET_LEARNING_PLANS_SUCCESS:\r\n      return { ...store, loading: false, plans: payload || [], error: null };\r\n\r\n    case GET_LEARNING_PLANS_FAILURE:\r\n      return { ...store, loading: false, error: payload };\r\n\r\n    case CREATE_LEARNING_PLAN:\r\n      return { \r\n        ...store, \r\n        plans: [...store.plans, payload],\r\n        loading: false,\r\n        error: null\r\n      };\r\n\r\n    case UPDATE_LEARNING_PLAN:\r\n      return {\r\n        ...store,\r\n        plans: store.plans.map(plan =>\r\n          plan.id === payload.id ? { ...payload, topics: plan.topics } : plan\r\n        ),\r\n        loading: false,\r\n        error: null\r\n      };\r\n\r\n    case DELETE_LEARNING_PLAN:\r\n      return {\r\n        ...store,\r\n        plans: store.plans.filter(plan => plan.id !== payload),\r\n        loading: false,\r\n        error: null\r\n      };\r\n\r\n    case ADD_TOPIC:\r\n      return {\r\n        ...store,\r\n        plans: store.plans.map(plan =>\r\n          plan.id === payload.planId\r\n            ? { \r\n                ...plan, \r\n                topics: [...(plan.topics || []), payload.topic],\r\n                updatedAt: new Date().toISOString()\r\n              }\r\n            : plan\r\n        ),\r\n        loading: false,\r\n        error: null\r\n      };\r\n\r\n    case UPDATE_TOPIC:\r\n      return {\r\n        ...store,\r\n        plans: store.plans.map(plan => ({\r\n          ...plan,\r\n          topics: (plan.topics || []).map(topic =>\r\n            topic.id === payload.id ? payload : topic\r\n          ),\r\n          updatedAt: new Date().toISOString()\r\n        })),\r\n        loading: false,\r\n        error: null\r\n      };\r\n\r\n    case DELETE_TOPIC:\r\n      return {\r\n        ...store,\r\n        plans: store.plans.map(plan => ({\r\n          ...plan,\r\n          topics: (plan.topics || []).filter(topic => topic.id !== payload),\r\n          updatedAt: new Date().toISOString()\r\n        })),\r\n        loading: false,\r\n        error: null\r\n      };\r\n\r\n    case ADD_RESOURCE:\r\n      return {\r\n        ...store,\r\n        plans: store.plans.map(plan => ({\r\n          ...plan,\r\n          topics: (plan.topics || []).map(topic =>\r\n            topic.id === payload.topicId\r\n              ? { \r\n                  ...topic, \r\n                  resources: [...(topic.resources || []), payload.resource],\r\n                  updatedAt: new Date().toISOString()\r\n                }\r\n              : topic\r\n          ),\r\n          updatedAt: new Date().toISOString()\r\n        })),\r\n        loading: false,\r\n        error: null\r\n      };\r\n\r\n    case UPDATE_RESOURCE:\r\n      return {\r\n        ...store,\r\n        plans: store.plans.map(plan => ({\r\n          ...plan,\r\n          topics: (plan.topics || []).map(topic => ({\r\n            ...topic,\r\n            resources: (topic.resources || []).map(resource =>\r\n              resource.id === payload.id ? payload : resource\r\n            ),\r\n            updatedAt: new Date().toISOString()\r\n          })),\r\n          updatedAt: new Date().toISOString()\r\n        })),\r\n        loading: false,\r\n        error: null\r\n      };\r\n\r\n    case DELETE_RESOURCE:\r\n      return {\r\n        ...store,\r\n        plans: store.plans.map(plan => ({\r\n          ...plan,\r\n          topics: (plan.topics || []).map(topic => ({\r\n            ...topic,\r\n            resources: (topic.resources || []).filter(resource => resource.id !== payload),\r\n            updatedAt: new Date().toISOString()\r\n          })),\r\n          updatedAt: new Date().toISOString()\r\n        })),\r\n        loading: false,\r\n        error: null\r\n      };\r\n\r\n    default:\r\n      return store;\r\n  }\r\n};"],"mappings":"AAAA,SACEA,oBAAoB,EACpBC,0BAA0B,EAC1BC,0BAA0B,EAC1BC,0BAA0B,EAC1BC,oBAAoB,EACpBC,oBAAoB,EACpBC,SAAS,EACTC,YAAY,EACZC,YAAY,EACZC,YAAY,EACZC,eAAe,EACfC,eAAe,QACV,cAAc;AAErB,MAAMC,YAAY,GAAG;EACnBC,KAAK,EAAE,EAAE;EACTC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;AACT,CAAC;AAED,OAAO,MAAMC,mBAAmB,GAAG,SAAAA,CAAA,EAA6C;EAAA,IAA5CC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGN,YAAY;EAAA,IAAE;IAAES,IAAI;IAAEC;EAAQ,CAAC,GAAAJ,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EACzE,QAAQC,IAAI;IACV,KAAKpB,0BAA0B;MAC7B,OAAO;QAAE,GAAGgB,KAAK;QAAEH,OAAO,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAK,CAAC;IAEjD,KAAKb,0BAA0B;MAC7B,OAAO;QAAE,GAAGe,KAAK;QAAEH,OAAO,EAAE,KAAK;QAAED,KAAK,EAAES,OAAO,IAAI,EAAE;QAAEP,KAAK,EAAE;MAAK,CAAC;IAExE,KAAKZ,0BAA0B;MAC7B,OAAO;QAAE,GAAGc,KAAK;QAAEH,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAEO;MAAQ,CAAC;IAErD,KAAKtB,oBAAoB;MACvB,OAAO;QACL,GAAGiB,KAAK;QACRJ,KAAK,EAAE,CAAC,GAAGI,KAAK,CAACJ,KAAK,EAAES,OAAO,CAAC;QAChCR,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACT,CAAC;IAEH,KAAKX,oBAAoB;MACvB,OAAO;QACL,GAAGa,KAAK;QACRJ,KAAK,EAAEI,KAAK,CAACJ,KAAK,CAACU,GAAG,CAACC,IAAI,IACzBA,IAAI,CAACC,EAAE,KAAKH,OAAO,CAACG,EAAE,GAAG;UAAE,GAAGH,OAAO;UAAEI,MAAM,EAAEF,IAAI,CAACE;QAAO,CAAC,GAAGF,IAAI,CACpE;QACDV,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACT,CAAC;IAEH,KAAKV,oBAAoB;MACvB,OAAO;QACL,GAAGY,KAAK;QACRJ,KAAK,EAAEI,KAAK,CAACJ,KAAK,CAACc,MAAM,CAACH,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKH,OAAO,CAAC;QACtDR,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACT,CAAC;IAEH,KAAKT,SAAS;MACZ,OAAO;QACL,GAAGW,KAAK;QACRJ,KAAK,EAAEI,KAAK,CAACJ,KAAK,CAACU,GAAG,CAACC,IAAI,IACzBA,IAAI,CAACC,EAAE,KAAKH,OAAO,CAACM,MAAM,GACtB;UACE,GAAGJ,IAAI;UACPE,MAAM,EAAE,CAAC,IAAIF,IAAI,CAACE,MAAM,IAAI,EAAE,CAAC,EAAEJ,OAAO,CAACO,KAAK,CAAC;UAC/CC,SAAS,EAAE,IAAIC,IAAI,EAAE,CAACC,WAAW;QACnC,CAAC,GACDR,IAAI,CACT;QACDV,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACT,CAAC;IAEH,KAAKR,YAAY;MACf,OAAO;QACL,GAAGU,KAAK;QACRJ,KAAK,EAAEI,KAAK,CAACJ,KAAK,CAACU,GAAG,CAACC,IAAI,KAAK;UAC9B,GAAGA,IAAI;UACPE,MAAM,EAAE,CAACF,IAAI,CAACE,MAAM,IAAI,EAAE,EAAEH,GAAG,CAACM,KAAK,IACnCA,KAAK,CAACJ,EAAE,KAAKH,OAAO,CAACG,EAAE,GAAGH,OAAO,GAAGO,KAAK,CAC1C;UACDC,SAAS,EAAE,IAAIC,IAAI,EAAE,CAACC,WAAW;QACnC,CAAC,CAAC,CAAC;QACHlB,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACT,CAAC;IAEH,KAAKP,YAAY;MACf,OAAO;QACL,GAAGS,KAAK;QACRJ,KAAK,EAAEI,KAAK,CAACJ,KAAK,CAACU,GAAG,CAACC,IAAI,KAAK;UAC9B,GAAGA,IAAI;UACPE,MAAM,EAAE,CAACF,IAAI,CAACE,MAAM,IAAI,EAAE,EAAEC,MAAM,CAACE,KAAK,IAAIA,KAAK,CAACJ,EAAE,KAAKH,OAAO,CAAC;UACjEQ,SAAS,EAAE,IAAIC,IAAI,EAAE,CAACC,WAAW;QACnC,CAAC,CAAC,CAAC;QACHlB,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACT,CAAC;IAEH,KAAKN,YAAY;MACf,OAAO;QACL,GAAGQ,KAAK;QACRJ,KAAK,EAAEI,KAAK,CAACJ,KAAK,CAACU,GAAG,CAACC,IAAI,KAAK;UAC9B,GAAGA,IAAI;UACPE,MAAM,EAAE,CAACF,IAAI,CAACE,MAAM,IAAI,EAAE,EAAEH,GAAG,CAACM,KAAK,IACnCA,KAAK,CAACJ,EAAE,KAAKH,OAAO,CAACW,OAAO,GACxB;YACE,GAAGJ,KAAK;YACRK,SAAS,EAAE,CAAC,IAAIL,KAAK,CAACK,SAAS,IAAI,EAAE,CAAC,EAAEZ,OAAO,CAACa,QAAQ,CAAC;YACzDL,SAAS,EAAE,IAAIC,IAAI,EAAE,CAACC,WAAW;UACnC,CAAC,GACDH,KAAK,CACV;UACDC,SAAS,EAAE,IAAIC,IAAI,EAAE,CAACC,WAAW;QACnC,CAAC,CAAC,CAAC;QACHlB,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACT,CAAC;IAEH,KAAKL,eAAe;MAClB,OAAO;QACL,GAAGO,KAAK;QACRJ,KAAK,EAAEI,KAAK,CAACJ,KAAK,CAACU,GAAG,CAACC,IAAI,KAAK;UAC9B,GAAGA,IAAI;UACPE,MAAM,EAAE,CAACF,IAAI,CAACE,MAAM,IAAI,EAAE,EAAEH,GAAG,CAACM,KAAK,KAAK;YACxC,GAAGA,KAAK;YACRK,SAAS,EAAE,CAACL,KAAK,CAACK,SAAS,IAAI,EAAE,EAAEX,GAAG,CAACY,QAAQ,IAC7CA,QAAQ,CAACV,EAAE,KAAKH,OAAO,CAACG,EAAE,GAAGH,OAAO,GAAGa,QAAQ,CAChD;YACDL,SAAS,EAAE,IAAIC,IAAI,EAAE,CAACC,WAAW;UACnC,CAAC,CAAC,CAAC;UACHF,SAAS,EAAE,IAAIC,IAAI,EAAE,CAACC,WAAW;QACnC,CAAC,CAAC,CAAC;QACHlB,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACT,CAAC;IAEH,KAAKJ,eAAe;MAClB,OAAO;QACL,GAAGM,KAAK;QACRJ,KAAK,EAAEI,KAAK,CAACJ,KAAK,CAACU,GAAG,CAACC,IAAI,KAAK;UAC9B,GAAGA,IAAI;UACPE,MAAM,EAAE,CAACF,IAAI,CAACE,MAAM,IAAI,EAAE,EAAEH,GAAG,CAACM,KAAK,KAAK;YACxC,GAAGA,KAAK;YACRK,SAAS,EAAE,CAACL,KAAK,CAACK,SAAS,IAAI,EAAE,EAAEP,MAAM,CAACQ,QAAQ,IAAIA,QAAQ,CAACV,EAAE,KAAKH,OAAO,CAAC;YAC9EQ,SAAS,EAAE,IAAIC,IAAI,EAAE,CAACC,WAAW;UACnC,CAAC,CAAC,CAAC;UACHF,SAAS,EAAE,IAAIC,IAAI,EAAE,CAACC,WAAW;QACnC,CAAC,CAAC,CAAC;QACHlB,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACT,CAAC;IAEH;MACE,OAAOE,KAAK;EAAC;AAEnB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}