{"ast":null,"code":"import { BASE_URL } from \"../../Config/api\";\nimport { FOLLOW_USER, GET_USERS_BY_USER_IDS, GET_USER_BY_USERNAME, GET_USER_PROFILE, SEARCH_USER, UPDATE_USER } from \"./ActionType\";\nexport const getUserProfileAction = token => async dispatch => {\n  try {\n    const res = await fetch(`${BASE_URL}/api/users/req`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token\n      }\n    });\n    const reqUser = await res.json();\n\n    // console.log(\"--- req user --- \",reqUser)\n\n    dispatch({\n      type: GET_USER_PROFILE,\n      payload: reqUser\n    });\n  } catch (error) {\n    console.log(\"catch error - \", error);\n  }\n};\nexport const findByUsernameAction = data => async dispatch => {\n  // console.log(\"find by username action data ---- \",data)\n  try {\n    const res = await fetch(`${BASE_URL}/api/users/username/${data.username}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + data.token\n      }\n    });\n    const user = await res.json();\n    console.log(\"--- find by username  --- \", user);\n    dispatch({\n      type: GET_USER_BY_USERNAME,\n      payload: user\n    });\n  } catch (error) {\n    console.log(\"catch error - \", error);\n  }\n};\nexport const findByUserIdsAction = data => async dispatch => {\n  try {\n    const res = await fetch(`${BASE_URL}/api/users/m/${data.userIds}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + data.jwt\n      }\n    });\n    console.log(\" -- res user ids --\", res);\n    const users = await res.json();\n    console.log(\"--- find by ids  --- \", users);\n    dispatch({\n      type: GET_USERS_BY_USER_IDS,\n      payload: users\n    });\n  } catch (error) {\n    console.log(\"catch error -  \", error);\n  }\n};\nexport const followUserAction = data => async dispatch => {\n  try {\n    const res = await fetch(`${BASE_URL}/api/users/follow/${data.userId}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + data.jwt\n      }\n    });\n    const users = await res.json();\n    console.log(\"--- follow user --- \", users);\n    dispatch({\n      type: FOLLOW_USER,\n      payload: users\n    });\n  } catch (error) {\n    console.log(\"catch error -  \", error);\n  }\n};\nexport const unFollowUserAction = data => async dispatch => {\n  try {\n    const res = await fetch(`${BASE_URL}/api/users/unfollow/${data.userId}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + data.jwt\n      }\n    });\n    const users = await res.json();\n    console.log(\"--- unfollow user --- \", users);\n    dispatch({\n      type: FOLLOW_USER,\n      payload: users\n    });\n  } catch (error) {\n    console.log(\"catch error -  \", error);\n  }\n};\nexport const searchUserAction = data => async dispatch => {\n  console.log(\"jwt --- \", data.jwt);\n  try {\n    const res = await fetch(`${BASE_URL}/api/users/search?q=${data.query}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + data.jwt\n      }\n    });\n    const users = await res.json();\n    console.log(\"--- search user --- \", users);\n    dispatch({\n      type: SEARCH_USER,\n      payload: users.message ? {\n        isError: true,\n        ...users\n      } : users\n    });\n  } catch (error) {\n    console.log(\"catch error -  \", error);\n  }\n};\nexport const editUserDetailsAction = data => async dispatch => {\n  console.log(\"data edit user --- \", data);\n  try {\n    const res = await fetch(`${BASE_URL}/api/users/account/edit`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + data.jwt\n      },\n      body: JSON.stringify(data.data)\n    });\n    const users = await res.json();\n    console.log(\"--- updated user --- \", users);\n    dispatch({\n      type: UPDATE_USER,\n      payload: users\n    });\n  } catch (error) {\n    console.log(\"catch error -  \", error);\n  }\n};","map":{"version":3,"names":["BASE_URL","FOLLOW_USER","GET_USERS_BY_USER_IDS","GET_USER_BY_USERNAME","GET_USER_PROFILE","SEARCH_USER","UPDATE_USER","getUserProfileAction","token","dispatch","res","fetch","method","headers","Authorization","reqUser","json","type","payload","error","console","log","findByUsernameAction","data","username","user","findByUserIdsAction","userIds","jwt","users","followUserAction","userId","unFollowUserAction","searchUserAction","query","message","isError","editUserDetailsAction","body","JSON","stringify"],"sources":["D:/SLIIT IT/Year 3 Semester 2/PAF/poject/client/src/Redux/User/Action.js"],"sourcesContent":["import { BASE_URL } from \"../../Config/api\";\r\nimport {\r\n  FOLLOW_USER,\r\n  GET_USERS_BY_USER_IDS,\r\n  GET_USER_BY_USERNAME,\r\n  GET_USER_PROFILE,\r\n  SEARCH_USER,\r\n  UPDATE_USER,\r\n} from \"./ActionType\";\r\n\r\nexport const getUserProfileAction = (token) => async (dispatch) => {\r\n  try {\r\n      const res = await fetch(`${BASE_URL}/api/users/req`, {\r\n    method: \"GET\",\r\n\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: \"Bearer \" + token,\r\n    },\r\n  });\r\n\r\n  const reqUser = await res.json();\r\n\r\n  // console.log(\"--- req user --- \",reqUser)\r\n\r\n  dispatch({ type: GET_USER_PROFILE, payload: reqUser });\r\n  } catch (error) {\r\n    console.log(\"catch error - \",error)\r\n  }\r\n\r\n};\r\n\r\nexport const findByUsernameAction = (data) => async (dispatch) => {\r\n  // console.log(\"find by username action data ---- \",data)\r\ntry {\r\n\r\n  const res = await fetch(\r\n    `${BASE_URL}/api/users/username/${data.username}`,\r\n    {\r\n      method: \"GET\",\r\n\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + data.token,\r\n      },\r\n    }\r\n  );\r\n\r\n  const user = await res.json();\r\n\r\n  console.log(\"--- find by username  --- \", user);\r\n\r\n  dispatch({ type: GET_USER_BY_USERNAME, payload: user });\r\n\r\n} catch (error) {\r\n  console.log(\"catch error - \", error)\r\n  \r\n}\r\n  \r\n};\r\n\r\nexport const findByUserIdsAction = (data) => async (dispatch) => {\r\n  try {\r\n\r\n    const res = await fetch(`${BASE_URL}/api/users/m/${data.userIds}`, {\r\n      method: \"GET\",\r\n\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + data.jwt,\r\n      },\r\n\r\n    });\r\n\r\n    console.log(\" -- res user ids --\", res);\r\n\r\n    const users = await res.json();\r\n\r\n    console.log(\"--- find by ids  --- \", users);\r\n\r\n    dispatch({ type: GET_USERS_BY_USER_IDS, payload: users });\r\n\r\n  } catch (error) {\r\n    console.log(\"catch error -  \", error);\r\n  }\r\n};\r\n\r\nexport const followUserAction = (data) => async (dispatch) => {\r\n \r\n  try {\r\n\r\n    const res = await fetch(`${BASE_URL}/api/users/follow/${data.userId}`, {\r\n      method: \"PUT\",\r\n\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + data.jwt,\r\n      },\r\n\r\n    });\r\n\r\n    const users = await res.json();\r\n\r\n    console.log(\"--- follow user --- \", users);\r\n\r\n    dispatch({ type: FOLLOW_USER, payload: users });\r\n\r\n  } catch (error) {\r\n    console.log(\"catch error -  \", error);\r\n  }\r\n};\r\n\r\nexport const unFollowUserAction = (data) => async (dispatch) => {\r\n \r\n  try {\r\n\r\n    const res = await fetch(`${BASE_URL}/api/users/unfollow/${data.userId}`, {\r\n      method: \"PUT\",\r\n\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + data.jwt,\r\n      },\r\n\r\n    });\r\n\r\n    const users = await res.json();\r\n\r\n    console.log(\"--- unfollow user --- \", users);\r\n\r\n    dispatch({ type: FOLLOW_USER, payload: users });\r\n\r\n  } catch (error) {\r\n    console.log(\"catch error -  \", error);\r\n  }\r\n};\r\n\r\nexport const searchUserAction = (data) => async (dispatch) => {\r\n console.log(\"jwt --- \",data.jwt)\r\n  try {\r\n\r\n    const res = await fetch(`${BASE_URL}/api/users/search?q=${data.query}`, {\r\n      method: \"GET\",\r\n\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + data.jwt,\r\n      },\r\n\r\n    });\r\n\r\n    const users = await res.json();\r\n\r\n    console.log(\"--- search user --- \", users);\r\n\r\n    dispatch({ type: SEARCH_USER, payload: users.message?{isError:true,...users}:users });\r\n\r\n  } catch (error) {\r\n    console.log(\"catch error -  \", error);\r\n  }\r\n};\r\n\r\n\r\nexport const editUserDetailsAction = (data) => async (dispatch) => {\r\n  console.log(\"data edit user --- \",data)\r\n   try {\r\n \r\n     const res = await fetch(`${BASE_URL}/api/users/account/edit`, {\r\n       method: \"PUT\",\r\n \r\n       headers: {\r\n         \"Content-Type\": \"application/json\",\r\n         Authorization: \"Bearer \" + data.jwt,\r\n       },\r\n       body: JSON.stringify(data.data),\r\n \r\n     });\r\n \r\n     const users = await res.json();\r\n \r\n     console.log(\"--- updated user --- \", users);\r\n \r\n     dispatch({ type: UPDATE_USER, payload: users });\r\n \r\n   } catch (error) {\r\n     console.log(\"catch error -  \", error);\r\n   }\r\n };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}